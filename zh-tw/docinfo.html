<!-- SEO Meta Tags -->
<meta name="description" content="ã€Šç²¾é€šæ¯”ç‰¹å¹£ã€‹ç¬¬ä¸‰ç‰ˆç¹é«”ä¸­æ–‡ç¿»è­¯ï¼Œæ·±å…¥ä»‹ç´¹æ¯”ç‰¹å¹£æŠ€è¡“çš„æ¬Šå¨æŒ‡å—ã€‚ç”± Andreas M. Antonopoulos å’Œ David A. Harding è‘—ä½œï¼Œæ¶µè“‹å¯†é‘°ã€äº¤æ˜“ã€å€å¡Šéˆã€æŒ–ç¤¦ç­‰æ ¸å¿ƒæ¦‚å¿µã€‚">
<meta name="keywords" content="æ¯”ç‰¹å¹£,Bitcoin,å€å¡Šéˆ,åŠ å¯†è²¨å¹£,ç²¾é€šæ¯”ç‰¹å¹£,Mastering Bitcoin,Andreas Antonopoulos,ç¹é«”ä¸­æ–‡,æŠ€è¡“æŒ‡å—,å»ä¸­å¿ƒåŒ–,æ•¸ä½è²¨å¹£,å¯†ç¢¼å­¸">
<meta name="author" content="Andreas M. Antonopoulos, David A. Harding">
<meta name="translator" content="Dr. Awesome Doge">
<meta name="language" content="zh-TW">
<meta name="robots" content="index, follow">
<meta name="googlebot" content="index, follow">
<link rel="canonical" href="https://bitcoinbook-3nd-zh.doge.tg/">

<!-- Open Graph / Facebook -->
<meta property="og:type" content="book">
<meta property="og:url" content="https://bitcoinbook-3nd-zh.doge.tg/">
<meta property="og:title" content="ç²¾é€šæ¯”ç‰¹å¹£ï¼šç¨‹å¼è¨­è¨ˆé–‹æ”¾å€å¡Šéˆï¼ˆç¬¬ä¸‰ç‰ˆï¼‰- ç¹é«”ä¸­æ–‡ç‰ˆ">
<meta property="og:description" content="æ·±å…¥ä»‹ç´¹æ¯”ç‰¹å¹£æŠ€è¡“çš„æ¬Šå¨æŒ‡å—ã€‚æ¶µè“‹å¯†é‘°ã€äº¤æ˜“ã€å€å¡Šéˆã€æŒ–ç¤¦ã€å®‰å…¨æ€§ç­‰æ ¸å¿ƒæ¦‚å¿µã€‚é–‹æºå…è²»é–±è®€ã€‚">
<meta property="og:image" content="https://bitcoinbook-3nd-zh.doge.tg/images/cover_thumbnail-346x346.png">
<meta property="og:image:width" content="346">
<meta property="og:image:height" content="346">
<meta property="og:locale" content="zh_TW">
<meta property="og:site_name" content="ç²¾é€šæ¯”ç‰¹å¹£ç¬¬ä¸‰ç‰ˆç¹é«”ä¸­æ–‡ç‰ˆ">
<meta property="book:author" content="Andreas M. Antonopoulos">
<meta property="book:author" content="David A. Harding">
<meta property="book:isbn" content="978-1-098-15009-9">
<meta property="book:release_date" content="2023-12">

<!-- Twitter Card -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:url" content="https://bitcoinbook-3nd-zh.doge.tg/">
<meta name="twitter:title" content="ç²¾é€šæ¯”ç‰¹å¹£ï¼šç¨‹å¼è¨­è¨ˆé–‹æ”¾å€å¡Šéˆï¼ˆç¬¬ä¸‰ç‰ˆï¼‰- ç¹é«”ä¸­æ–‡ç‰ˆ">
<meta name="twitter:description" content="æ·±å…¥ä»‹ç´¹æ¯”ç‰¹å¹£æŠ€è¡“çš„æ¬Šå¨æŒ‡å—ã€‚æ¶µè“‹å¯†é‘°ã€äº¤æ˜“ã€å€å¡Šéˆã€æŒ–ç¤¦ã€å®‰å…¨æ€§ç­‰æ ¸å¿ƒæ¦‚å¿µã€‚">
<meta name="twitter:image" content="https://bitcoinbook-3nd-zh.doge.tg/images/cover_thumbnail-346x346.png">
<meta name="twitter:creator" content="@aantonop">

<!-- Schema.org structured data -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Book",
  "name": "ç²¾é€šæ¯”ç‰¹å¹£ï¼šç¨‹å¼è¨­è¨ˆé–‹æ”¾å€å¡Šéˆ",
  "alternateName": "Mastering Bitcoin: Programming the Open Blockchain",
  "author": [
    {
      "@type": "Person",
      "name": "Andreas M. Antonopoulos",
      "sameAs": "https://twitter.com/aantonop"
    },
    {
      "@type": "Person",
      "name": "David A. Harding"
    }
  ],
  "translator": {
    "@type": "Person",
    "name": "Dr. Awesome Doge"
  },
  "bookEdition": "Third Edition",
  "bookFormat": "https://schema.org/EBook",
  "inLanguage": "zh-TW",
  "isbn": "978-1-098-15009-9",
  "numberOfPages": "400",
  "publisher": {
    "@type": "Organization",
    "name": "O'Reilly Media"
  },
  "datePublished": "2023-12",
  "description": "æ·±å…¥ä»‹ç´¹æ¯”ç‰¹å¹£æŠ€è¡“çš„æ¬Šå¨æŒ‡å—ï¼Œæ¶µè“‹å¯†é‘°ã€äº¤æ˜“ã€å€å¡Šéˆã€æŒ–ç¤¦ã€å®‰å…¨æ€§ç­‰æ ¸å¿ƒæ¦‚å¿µã€‚",
  "about": [
    {
      "@type": "Thing",
      "name": "Bitcoin"
    },
    {
      "@type": "Thing",
      "name": "Blockchain"
    },
    {
      "@type": "Thing",
      "name": "Cryptocurrency"
    }
  ],
  "genre": "Technical",
  "license": "https://creativecommons.org/licenses/by-sa/4.0/"
}
</script>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6ZDJ9YC816"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-6ZDJ9YC816', {
    'send_page_view': true
  });

  // ç« ç¯€è¿½è¹¤åŠŸèƒ½
  (function() {
    // ç« ç¯€æ˜ å°„è¡¨
    const chapterNames = {
      'preface': 'å‰è¨€',
      'ch01_intro_what_is_bitcoin': 'ç¬¬ä¸€ç« ï¼šæ¯”ç‰¹å¹£ç°¡ä»‹',
      'ch02_overview': 'ç¬¬äºŒç« ï¼šæ¯”ç‰¹å¹£å¦‚ä½•é‹ä½œ',
      'ch03_bitcoin_client': 'ç¬¬ä¸‰ç« ï¼šBitcoin Core',
      'ch04_keys_addresses': 'ç¬¬å››ç« ï¼šå¯†é‘°èˆ‡åœ°å€',
      'ch05_wallets': 'ç¬¬äº”ç« ï¼šéŒ¢åŒ…',
      'ch06_transactions': 'ç¬¬å…­ç« ï¼šäº¤æ˜“',
      'ch07_authorization_authentication': 'ç¬¬ä¸ƒç« ï¼šæˆæ¬Šèˆ‡èªè­‰',
      'ch08_signatures': 'ç¬¬å…«ç« ï¼šæ•¸ä½ç°½ç« ',
      'ch09_fees': 'ç¬¬ä¹ç« ï¼šäº¤æ˜“æ‰‹çºŒè²»',
      'ch10_p2p_network': 'ç¬¬åç« ï¼šæ¯”ç‰¹å¹£ç¶²è·¯',
      'ch11_blockchain': 'ç¬¬åä¸€ç« ï¼šå€å¡Šéˆ',
      'ch12_mining': 'ç¬¬åäºŒç« ï¼šæŒ–ç¤¦èˆ‡å…±è­˜',
      'ch13_security': 'ç¬¬åä¸‰ç« ï¼šå®‰å…¨æ€§',
      'ch14_applications': 'ç¬¬åå››ç« ï¼šç¬¬äºŒå±¤æ‡‰ç”¨',
      'appa_whitepaper': 'é™„éŒ„Aï¼šæ¯”ç‰¹å¹£ç™½çš®æ›¸',
      'appb_errata': 'é™„éŒ„Bï¼šå‹˜èª¤è¡¨',
      'appc_bips': 'é™„éŒ„Cï¼šBitcoin Improvement Proposals',
      'glossary': 'è¡“èªè¡¨'
    };

    let lastTrackedSection = '';

    // è¿½è¹¤ç« ç¯€ç€è¦½
    function trackChapterView(sectionId, method) {
      const chapterName = chapterNames[sectionId] || sectionId;

      // é¿å…é‡è¤‡è¿½è¹¤åŒä¸€ç« ç¯€
      if (lastTrackedSection === sectionId) {
        return;
      }

      lastTrackedSection = sectionId;

      // ç™¼é€è™›æ“¬é é¢ç€è¦½äº‹ä»¶
      gtag('event', 'page_view', {
        page_title: chapterName,
        page_location: window.location.origin + window.location.pathname + '#' + sectionId,
        page_path: '/#' + sectionId,
        chapter_name: chapterName,
        navigation_method: method || 'unknown'
      });

      // ç™¼é€è‡ªå®šç¾©ç« ç¯€ç€è¦½äº‹ä»¶
      gtag('event', 'chapter_view', {
        chapter_id: sectionId,
        chapter_name: chapterName,
        method: method || 'unknown'
      });

      console.log('ğŸ“Š GAè¿½è¹¤:', chapterName, '(æ–¹æ³•:', method + ')');
    }

    // ç›£è½ URL hash è®ŠåŒ–
    function onHashChange() {
      const hash = window.location.hash.substring(1);
      if (hash && chapterNames[hash]) {
        trackChapterView(hash, 'hash_change');
      }
    }

    // ç›£è½ç›®éŒ„é»æ“Š
    function setupTocTracking() {
      // ç­‰å¾…é é¢åŠ è¼‰å®Œæˆ
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', setupTocTracking);
        return;
      }

      // ç›£è½æ‰€æœ‰å…§éƒ¨éŒ¨é»éˆæ¥
      document.addEventListener('click', function(e) {
        const link = e.target.closest('a[href^="#"]');
        if (link) {
          const hash = link.getAttribute('href').substring(1);
          if (chapterNames[hash]) {
            setTimeout(() => trackChapterView(hash, 'toc_click'), 100);
          }
        }
      });
    }

    // æ»¾å‹•è¿½è¹¤ - æª¢æ¸¬ç”¨æˆ¶ç•¶å‰é–±è®€çš„ç« ç¯€
    let scrollTimeout;
    function onScroll() {
      clearTimeout(scrollTimeout);
      scrollTimeout = setTimeout(function() {
        const sections = document.querySelectorAll('h1[id], h2[id], section[id]');
        let currentSection = '';

        for (let i = sections.length - 1; i >= 0; i--) {
          const section = sections[i];
          const rect = section.getBoundingClientRect();

          // æª¢æŸ¥ç« ç¯€æ˜¯å¦åœ¨è¦–çª—é ‚éƒ¨é™„è¿‘
          if (rect.top <= 150) {
            const sectionId = section.getAttribute('id');
            if (chapterNames[sectionId]) {
              currentSection = sectionId;
              break;
            }
          }
        }

        if (currentSection && currentSection !== lastTrackedSection) {
          trackChapterView(currentSection, 'scroll');
        }
      }, 1000); // 1ç§’å¾Œæ‰è¿½è¹¤ï¼Œé¿å…æ»¾å‹•æ™‚é »ç¹è§¸ç™¼
    }

    // åˆå§‹åŒ–è¿½è¹¤
    function init() {
      // è¿½è¹¤åˆå§‹é é¢æˆ–ç« ç¯€
      const initialHash = window.location.hash.substring(1);
      if (initialHash && chapterNames[initialHash]) {
        trackChapterView(initialHash, 'initial_load');
      }

      // è¨­ç½®äº‹ä»¶ç›£è½å™¨
      window.addEventListener('hashchange', onHashChange);
      window.addEventListener('scroll', onScroll, { passive: true });
      setupTocTracking();

      console.log('ğŸ“Š Google Analytics ç« ç¯€è¿½è¹¤å·²å•Ÿç”¨');
    }

    // ç­‰å¾…é é¢åŠ è¼‰å®Œæˆå¾Œåˆå§‹åŒ–
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', init);
    } else {
      init();
    }
  })();
</script>
